# 環境変数について

## 環境変数の設定方法

プログラムの挙動を開発環境、本番環境で変更する場合は環境変数を使用して動作を変更しようと考えています。
ローカル環境で動作を確認する場合とDocker環境で動作を確認する場合
.env.templateをプロジェクトのルートディレクトリにコピーして.envにリネームしてから適切な環境変数を設定してください。

- APP_ENV：develop,productionのいずれか
- MAP_API_KEY：Google APIのキー

## 環境変数の読み込みの流れ

基本的にアプリケーションはSettingsクラスを使用して環境変数を読み出しますが、Settingsクラスは以下の優先順位で環境変数を読み出します。

1. （今回使用していない　インスタンス化時に渡される環境変数）
2. OSの環境変数
3. .envファイル
4. Settingsクラスに記述されているデフォルト値

### ローカル環境

.env -> app_settings.pyのSettingsクラスが.envファイルから読み込み -> main.pyでSettingsクラスがインスタンスとして呼び出される

### Docker compose

.env -> compose.ymlが自動的に.envを読み込み -> composeがDockerコンテナ内の環境変数として設定 -> Settingsクラスが環境変数を読み込む
